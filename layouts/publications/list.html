{{ define "main" }}

<h1 class="page-title">ðŸ“š Publications</h1>
<style>
.page-title {
  text-align: center;
  margin-bottom: 2rem;
  font-size: 3rem;
  font-weight: 700;
}
</style>


<!-- SEARCH BAR -->
<div style="max-width:600px; margin:0 auto 2rem auto;">
  <input
    type="text"
    id="searchInput"
    placeholder="Search by title, author, topic, year..."
    style="
      width:100%;
      padding:0.7rem 1rem;
      font-size:1rem;
      border:1px solid #ccc;
      border-radius:999px;
      outline:none;
    "
  >
</div>

<!-- PUBLICATIONS LIST -->
<div class="pub-list">
  {{ range sort .Pages "Params.year" "desc" }}
    <div class="pub-item"
         data-search="{{ lower (printf "%s %s %v %v" .Title (delimit .Params.authors " ") .Params.topics .Params.year) }}">

      <a href="{{ .RelPermalink }}" class="pub-title">
        {{ .Title }}
      </a>

      <div class="pub-meta">
        {{ delimit .Params.authors ", " }} ({{ .Params.year }})
        {{ with .Params.pdf }} â€“ <a href="{{ . }}" target="_blank">PDF</a>{{ end }}
      </div>
    </div>
  {{ end }}
</div>

<!-- STYLE -->
<style>
.pub-list {
  max-width: 800px;
  margin: auto;
}

.pub-item {
  padding: 0.6rem 0;
  border-bottom: 1px solid #e5e5e5;
}

.pub-title {
  font-weight: 500;
  color: #0066cc;
  text-decoration: none;
}

.pub-title:hover {
  text-decoration: underline;
}

.pub-meta {
  font-size: 0.9rem;
  color: #555;
}
</style>

<!-- SEARCH SCRIPT -->
<script>
const input = document.getElementById('searchInput');
const items = document.querySelectorAll('.pub-item');

input.addEventListener('input', () => {
  const query = input.value.toLowerCase();

  items.forEach(item => {
    const text = item.dataset.search;
    item.style.display = text.includes(query) ? 'block' : 'none';
  });
});
</script>

{{ end }}









